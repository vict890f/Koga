<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="kogacomstyle.css">


</head>

<body>


    <header>
        <div id="menu_box">
            <nav>
                <div id="menuknap">☰</div>
                <div id="menu" class="hidden">
                    <a href="kogacom.html">FORSIDE</a>
                    <a href="kogacomom.html">OM KOGA</a>
                    <a href="kogacomcykler.html">CYKLER</a>
                    <a href="kogacomkontakt.html">KONTAKT</a>
                </div>
            </nav>
        </div>
        <div id="logo_box"></div>
    </header>





    <section id="single" class="box2">
        <div class="singleview-info">
            <article>
                <h2 class="title"></h2>
                <h3 class="pris"></h3>
                <h4 class="info"></h4>
                <h4 class="vaegt"></h4>
                <h4 class="farve"></h4>
                <h4 class="strrelse"></h4>
            </article>
        </div>
        <div class="imgcontainer"></div>

        <template><img class="imgsingle" src="" alt=""></template>

    </section>



    <section class="box4">
        <img src="assets/1x4/Cykler.jpg" alt="">
        <img src="assets/1x4/klubKoga.jpg" alt="">
        <img src="assets/1x4/kontakt.jpg" alt="">
        <img src="assets/1x4/omKoga.jpg" alt="">
    </section>

    <footer>
        <div class="blok">
            <h2>CYKLER</h2>
            <ul>
                <li>Racing</li>
                <li>City</li>
                <li>Touring</li>
            </ul>
        </div>
        <div class="blok">
            <h2>SERVICE</h2>
            <ul>
                <li>Kontakt</li>
                <li>Faq</li>
                <li>Instruktions Manualer</li>
                <li>Garanti</li>
            </ul>
        </div>
        <div class="blok">
            <h2>OM KOGA</h2>
            <ul>
                <li>Min koga og jeg</li>
                <li>Historie</li>
                <li>Forretning</li>
            </ul>
        </div>
        <div class="blok">
            <h2>SOCIAL</h2>
            <div id="social">
                <div id="fb" class="ikon"></div>
                <div id="tw" class="ikon"></div>
                <div id="ig" class="ikon"></div>
            </div>
        </div>
    </footer>








    <script>
        let cykler = [];
        let urlParams = new URLSearchParams(window.location.search);
        let id = urlParams.get("id");
        let navn = urlParams.get("navn");
        const skabelon = document.querySelector("template");
        const liste = document.querySelector(".box3");
        let menuArray;
        const cyklerUrl = "https://victorborgen.dk/kogacenter/wordpress/wp-json/wp/v2/cykler/";


        window.addEventListener("load", sidenVises);

        function sidenVises() {
            console.log("sidenVises");
            document.querySelector("#menuknap").addEventListener("click", toggleMenu);
        }

        function toggleMenu() {
            console.log("toggleMenu");
            document.querySelector("#menu").classList.toggle("hidden");

            let erSkjult = document.querySelector("#menu").classList.contains("hidden");

            if (erSkjult == true) {
                document.querySelector("#menuknap").textContent = "☰";
            } else {
                document.querySelector("#menuknap").textContent = "X";
            }
        }

        document.addEventListener("DOMContentLoaded", hentJson);

        async function hentJson() {
            const response = await fetch(cyklerUrl);
            cykler = await response.json();
            console.log(cykler);

            visCykel();
        }

        function visCykel() {

            cykler.forEach(cykel => {
                if (cykel.id == id) {

                    console.log(cykel.billeder);

                    cykel.billede.forEach(b => {
                        console.log(b.guid);
                        const klon = skabelon.cloneNode(true).content;
                        klon.querySelector(".imgsingle").src = b.guid;
                        document.querySelector(".imgcontainer").appendChild(klon);
                    })

                    document.querySelector(".title").textContent = cykel.title.rendered;

                    document.querySelector(".pris").textContent = `${cykel.pris_cykel} DKK`;

                    document.querySelector(".info").textContent = cykel.cykel_beskrivelse;

                    document.querySelector(".vaegt").textContent = `Vægt: ${cykel.vgt} Kg`;

                    document.querySelector(".farve").textContent = `Farve: ${cykel.farve}`;

                    document.querySelector(".strrelse").textContent = `Størrelser: ${cykel.strrelse}`;





                }
            })

        }

    </script>
</body>

</html>
